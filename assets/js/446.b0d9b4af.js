(window.webpackJsonp=window.webpackJsonp||[]).push([[446],{650:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("The default configuration is as follow:")]),t._v(" "),t._m(2),a("p",[t._v("You can customize your configuration as follow:")]),t._v(" "),t._m(3),a("blockquote",[a("p",[t._v("Ts.ED support "),a("a",{attrs:{href:"https://github.com/TypeStrong/ts-node",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-node"),a("OutboundLink")],1),t._v(". Ts extension will be replaced by a Js extension if\nts-node isn't the runtime.")])]),t._v(" "),t._m(4),t._v(" "),a("ul",[t._m(5),t._v(" "),t._m(6),t._v(" "),a("li",[a("code",[t._v("port")]),t._v(" <string | number>: Port number for the "),a("a",{attrs:{href:"https://nodejs.org/api/http.html#http_class_http_server",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP.Server"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("httpsPort")]),t._v(" <string | number>: Port number for the "),a("a",{attrs:{href:"https://nodejs.org/api/https.html#https_class_https_server",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTPs.Server"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("httpsOptions")]),t._v(" <"),a("a",{attrs:{href:"https://nodejs.org/api/tls.html#tls_tls_createserver_options_secureconnectionlistener",target:"_blank",rel:"noopener noreferrer"}},[t._v("Https.ServerOptions"),a("OutboundLink")],1),t._v(")>:\n"),a("ul",[a("li",[a("code",[t._v("key")]),t._v(" <string> | <string[]> | "),a("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("<Buffer>"),a("OutboundLink")],1),t._v(" | <Object[]>: The private key of the server in PEM format. To support multiple keys using different algorithms an array can be provided either as a plain array of key strings or an array of objects in the format "),a("code",[t._v("{pem: key, passphrase: passphrase}")]),t._v(". This option is required for ciphers that make use of private keys.")]),t._v(" "),t._m(7),t._v(" "),a("li",[a("code",[t._v("cert")]),t._v(" <string> | <string[]> | "),a("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("<Buffer>"),a("OutboundLink")],1),t._v(" | "),a("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("<Buffer[]>"),a("OutboundLink")],1),t._v(": A string, Buffer, array of strings, or array of Buffers containing the certificate key of the server in PEM format. (Required)")]),t._v(" "),a("li",[a("code",[t._v("ca")]),t._v(" <string> | <string[]> | "),a("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("<Buffer>"),a("OutboundLink")],1),t._v(" | "),a("a",{attrs:{href:"https://nodejs.org/api/buffer.html#buffer_class_buffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("<Buffer[]>"),a("OutboundLink")],1),t._v(': A string, Buffer, array of strings, or array of Buffers of trusted certificates in PEM format. If this is omitted several well known "root" CAs (like VeriSign) will be used. These are used to authorize connections.')])])]),t._v(" "),a("li",[a("code",[t._v("uploadDir")]),t._v(" <string&gt: The temporary directory to upload the documents. See more on "),a("router-link",{attrs:{to:"/tutorials/multer.html"}},[t._v("Upload file with Multer")]),t._v(".")],1),t._v(" "),a("li",[a("code",[t._v("mount")]),t._v(" <"),a("router-link",{attrs:{to:"/api/common/config/interfaces/IServerMountDirectories.html"}},[t._v("IServerMountDirectories")]),t._v(">: Mount all controllers under a directories to an endpoint.")],1),t._v(" "),a("li",[a("code",[t._v("componentsScan")]),t._v(" <string[]>: List of directories to scan "),a("router-link",{attrs:{to:"/docs/services.html"}},[t._v("Services")]),t._v(", "),a("router-link",{attrs:{to:"/docs/middlewares.html"}},[t._v("Middlewares")]),t._v(" or "),a("router-link",{attrs:{to:"/docs/converters.html"}},[t._v("Converters")]),t._v(".")],1),t._v(" "),t._m(8),t._v(" "),a("li",[a("code",[t._v("serveStatic")]),t._v(" <"),a("router-link",{attrs:{to:"/api/common/config/interfaces/IServerMountdirectories.html"}},[t._v("IServerMountDirectories")]),t._v(">: Object to mount all directories under to his endpoints. See more on "),a("router-link",{attrs:{to:"/tutorials/serve-static-files.html"}},[t._v("Serve Static")]),t._v(".")],1),t._v(" "),a("li",[a("code",[t._v("swagger")]),t._v(" <Object>: Object configure swagger. See more on "),a("router-link",{attrs:{to:"/tutorials/swagger.html"}},[t._v("Swagger")]),t._v(".")],1),t._v(" "),t._m(9),t._v(" "),a("li",[a("code",[t._v("routers")]),t._v(" <object>: Global configuration for the Express.Router. See express "),a("a",{attrs:{href:"http://expressjs.com/en/api.html#express.router",target:"_blank",rel:"noopener noreferrer"}},[t._v("documentation"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("validationModelStrict")]),t._v(" <boolean>: Use a strict validation when a model is used by the converter. When a property is unknown, it throw a "),a("code",[t._v("BadRequest")]),t._v(" (see "),a("router-link",{attrs:{to:"/docs/converters.html"}},[t._v("Converters")]),t._v("). By default true.")],1),t._v(" "),a("li",[a("code",[t._v("logger")]),t._v(" <"),a("router-link",{attrs:{to:"/api/common/config/interfaces/ILoggerSettings.html"}},[t._v("ILoggerSettings")]),t._v(">: Logger configuration.")],1),t._v(" "),a("li",[a("code",[t._v("controllerScope")]),t._v(" <"),a("code",[t._v("request")]),t._v("|"),a("code",[t._v("singleton")]),t._v(">: Configure the default scope of the controllers. Default: "),a("code",[t._v("singleton")]),t._v(". See "),a("router-link",{attrs:{to:"/docs/scope.html"}},[t._v("Scope")]),t._v(".")],1),t._v(" "),t._m(10),t._v(" "),a("li",[a("code",[t._v("errors")]),t._v(" <"),a("router-link",{attrs:{to:"/api/common/config/interfaces/IErrorsSettings.html"}},[t._v("IErrorsSettings")]),t._v(">: Errors configuration (see "),a("router-link",{attrs:{to:"/tutorials/throw-http-exceptions.html"}},[t._v("Throw Http exceptions")]),t._v(").")],1)]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("It's possible to change the HTTP and HTTPS server address as follows:")]),t._v(" "),t._m(13),t._m(14),t._v(" "),a("p",[t._v('Random port assignement can be enable with the value "0". The port assignment will be delegate to the OS.')]),t._v(" "),t._m(15),a("p",[t._v("Or:")]),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),a("p",[t._v("You see the example "),a("a",{attrs:{href:"https://github.com/Romakita/example-ts-express-decorator/tree/2.0.0/example-https",target:"_blank",rel:"noopener noreferrer"}},[t._v("projet HTTPs"),a("OutboundLink")],1)]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("Default logger use by Ts.ED is "),a("a",{attrs:{href:"https://romakita.github.io/ts-log-debug/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-log-debug"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://romakita.github.io/ts-log-debug#/getting-started?id=installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("Configuration"),a("OutboundLink")],1),t._v(",")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://romakita.github.io/ts-log-debug#/appenders/custom",target:"_blank",rel:"noopener noreferrer"}},[t._v("Customize appender (chanel)"),a("OutboundLink")],1),t._v(",")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://romakita.github.io/ts-log-debug#/layouts/custom",target:"_blank",rel:"noopener noreferrer"}},[t._v("Customize layout"),a("OutboundLink")],1)])]),t._v(" "),t._m(24),t._v(" "),a("p",[t._v("Some options is provided:")]),t._v(" "),a("ul",[t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),a("li",[a("code",[t._v("logger.format")]),t._v(": Specify log format. Example: "),a("code",[t._v("%[%d{[yyyy-MM-dd hh:mm:ss,SSS}] %p%] %m")]),t._v(". See "),a("a",{attrs:{href:"https://romakita.github.io/ts-log-debug/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-log-debug configuration"),a("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(31)]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),a("p",[t._v("For each Express.Request, a logger will be attached and can be used like here:")]),t._v(" "),t._m(34),t._m(35),t._v(" "),t._m(36),a("p",[t._v("You can configure this output from configuration:")]),t._v(" "),t._m(37),t._m(38),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),t._m(39),t._m(40),t._v(" "),a("p",[t._v("Shutdown return a Promise that will be resolved when ts-log-debug has closed all appenders and finished writing log events.\nUse this when your program exits to make sure all your logs are written to files, sockets are closed, etc.")]),t._v(" "),t._m(41),t._m(42),t._v(" "),a("p",[t._v("The configuration can be reused throughout your application in different ways.")]),t._v(" "),a("ul",[a("li",[t._v("With dependency injection in "),a("router-link",{attrs:{to:"/docs/services.html"}},[t._v("Service")]),t._v(", "),a("router-link",{attrs:{to:"/docs/controllers.html"}},[t._v("Controller")]),t._v(", "),a("router-link",{attrs:{to:"/docs/middlewares.html"}},[t._v("Middleware")]),t._v(", "),a("router-link",{attrs:{to:"/docs/filters.html"}},[t._v("Filter")]),t._v(" or "),a("router-link",{attrs:{to:"/docs/converters.html"}},[t._v("Converter")]),t._v(".")],1),t._v(" "),a("li",[t._v("With the decorators "),a("router-link",{attrs:{to:"/api/common/config/decorators/Constant.html"}},[t._v("@Constant")]),t._v(" and "),a("router-link",{attrs:{to:"/api/common/config/decorators/Value.html"}},[t._v("@Value")]),t._v(".")],1)]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),a("p",[t._v("Decorators "),a("router-link",{attrs:{to:"/api/common/config/decorators/Constant.html"}},[t._v("@Constant")]),t._v(" and "),a("router-link",{attrs:{to:"/api/common/config/decorators/Value.html"}},[t._v("@Value")]),t._v(" can be used in all classes\nincluding:")],1),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"/docs/services.html"}},[t._v("Service")]),t._v(",")],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/docs/controllers.html"}},[t._v("Controller")]),t._v(",")],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/docs/middlewares.html"}},[t._v("Middleware")]),t._v(",")],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/docs/filters.html"}},[t._v("Filter")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/docs/converters.html"}},[t._v("Converter")]),t._v(".")],1)]),t._v(" "),a("p",[a("router-link",{attrs:{to:"/api/common/config/decorators/Constant.html"}},[t._v("@Constant")]),t._v(" and "),a("router-link",{attrs:{to:"/api/common/config/decorators/Value.html"}},[t._v("@Value")]),t._v(" accept an expression as parameters to\ninspect the configuration object and return the value.")],1),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@ServerSettings")]),this._v(" let you to configure quickly your server via decorator. This decorator take your configuration and merge it with the default server configuration.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"rootDir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"path/to/root/project"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"env"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"development"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"port"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("8080")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"debug"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"httpsPort"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("8000")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"uploadDir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/uploads"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"mount"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"/rest"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/controllers/**/*.ts"')]),t._v(" // support ts with ts-node then fallback to js\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"componentsScan"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/middlewares/**/*.ts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/services/**/*.ts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/converters/**/*.ts"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"routers"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"mergeParams"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"strict"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"caseSensitive"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// server.ts")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ServerLoader"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ServerSettings"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"@tsed/common"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"path"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   rootDir"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//optional. By default it's equal to process.cwd()")]),t._v("\n   mount"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{attrs:{class:"token string"}},[t._v('"/rest"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/controllers/current/**/*.js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{attrs:{class:"token string"}},[t._v('"/rest/v1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/controllers/v1/users/*.js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),a("span",{attrs:{class:"token string"}},[t._v('"${rootDir}/controllers/v1/groups/**/*.ts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// support ts entry")]),t._v("\n        "),a("span",{attrs:{class:"token string"}},[t._v('"!${rootDir}/controllers/v1/groups/old/*.ts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// support ts entry")]),t._v("\n        MyController "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" support manual "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v("\n     "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" app"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ts\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Server "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./server"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options","aria-hidden":"true"}},[this._v("#")]),this._v(" Options")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("rootDir")]),this._v(" <string>: The root directory where you build run project. By default, it's equal to `process.cwd().")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("env")]),this._v(" <Env>: The environment profile. By default the environment profile is equals to "),s("code",[this._v("NODE_ENV")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("passphrase")]),this._v(" <string> A string containing the passphrase for the private key or pfx.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("exclude")]),this._v(" <string[]>: List of glob patterns. Exclude all files which matching with this list when ServerLoader scan all components with the "),s("code",[this._v("mount")]),this._v(" or "),s("code",[this._v("scanComponents")]),this._v(" options.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("debug")]),this._v(" <boolean>: Enable debug mode. By default debug is false.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("acceptMimes")]),this._v(" <string[]>: Configure the mimes accepted by default by the server.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"http-https-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-https-server","aria-hidden":"true"}},[this._v("#")]),this._v(" HTTP & HTTPs server")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"change-address"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#change-address","aria-hidden":"true"}},[this._v("#")]),this._v(" Change address")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   httpPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"127.0.0.1:8081"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   httpsPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"127.0.0.2:8082"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"random-port"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#random-port","aria-hidden":"true"}},[this._v("#")]),this._v(" Random port")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   httpPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"127.0.0.1:0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   httpsPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"127.0.0.2:0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   httpPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   httpsPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"disable-http"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#disable-http","aria-hidden":"true"}},[this._v("#")]),this._v(" Disable HTTP")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   httpPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"disable-https"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#disable-https","aria-hidden":"true"}},[this._v("#")]),this._v(" Disable HTTPS")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   httpsPort"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"https-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" HTTPs configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"logger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logger","aria-hidden":"true"}},[this._v("#")]),this._v(" Logger")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"default-logger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#default-logger","aria-hidden":"true"}},[this._v("#")]),this._v(" Default logger")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"configuration-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("logger.debug")]),this._v(" (or "),s("code",[this._v("debug")]),this._v("): Enable debug mode. By default debug is "),s("code",[this._v("false")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("logger.logRequest")]),this._v(": Log all incoming request. By default is true and print the configured "),s("code",[this._v("logger.requestFields")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",[a("code",[t._v("logger.requestFields")]),t._v(": Fields displayed when a request is logged. Possible values: "),a("code",[t._v("reqId")]),t._v(", "),a("code",[t._v("method")]),t._v(", "),a("code",[t._v("url")]),t._v(", "),a("code",[t._v("headers")]),t._v(", "),a("code",[t._v("body")]),t._v(", "),a("code",[t._v("query")]),t._v(","),a("code",[t._v("params")]),t._v(", "),a("code",[t._v("duration")]),t._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("logger.reqIdBuilder")]),this._v(": A function called for each incoming request to create a request id.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("logger.jsonIndentation")]),this._v(": The number of space characters to use as white space in JSON output. Default is 2 (0 in production).")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("code",[this._v("logger.disableRoutesSummary")]),this._v(": Disable routes table displayed in the logger. By default debug is "),s("code",[this._v("false")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",[a("code",[t._v("logger.ignoreUrlPatterns")]),t._v(" ("),a("code",[t._v("String")]),t._v(" or "),a("code",[t._v("RegExp")]),t._v("): List of pattern to ignore logged request according to the "),a("code",[t._v("request.url")]),t._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("It's recommended to disable logRequest in production. Logger have a cost on the performance.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"request-logger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-logger","aria-hidden":"true"}},[this._v("#")]),this._v(" Request logger")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("info")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("customData"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// parameter is optional")]),t._v("\nrequest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("debug")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("customData"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("warn")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("customData"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("error")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("customData"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrequest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("trace")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("customData"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("A call with once of this method will generate a log according to the "),s("code",[this._v("logger.requestFields")]),this._v(" configuration:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("2017-09-01 11:12:46.994"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("TSED"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" - "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v('"status"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 200,\n  "),a("span",{attrs:{class:"token string"}},[t._v('"reqId"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 1,\n  "),a("span",{attrs:{class:"token string"}},[t._v('"method"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"GET"')]),t._v(",\n  "),a("span",{attrs:{class:"token string"}},[t._v('"url"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"/api-doc/swagger.json"')]),t._v(",\n  "),a("span",{attrs:{class:"token string"}},[t._v('"duration"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" 92,\n  "),a("span",{attrs:{class:"token string"}},[t._v('"headers"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"host"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"0.0.0.0:8001"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"connection"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"keep-alive"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"upgrade-insecure-requests"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"1"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"user-agent"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.101 Safari/537.36"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"accept"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"accept-encoding"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"gzip, deflate"')]),t._v(",\n    "),a("span",{attrs:{class:"token string"}},[t._v('"accept-language"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),a("span",{attrs:{class:"token string"}},[t._v('"body"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),a("span",{attrs:{class:"token string"}},[t._v('"query"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),a("span",{attrs:{class:"token string"}},[t._v('"customData"')]),a("span",{attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("ServerSettings")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       requestFields"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"reqId"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"method"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"url"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"headers"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"body"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"query"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v('"params"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"duration"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ServerLoader")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("or you can override the middleware with "),s("code",[this._v("@OverrideMiddleware")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("OverrideMiddleware")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LogIncomingRequestMiddleware"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("CustomLogIncomingRequestMiddleware")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("LogIncomingRequestMiddleware")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("use")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("Req")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("any")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" @"),a("span",{attrs:{class:"token function"}},[t._v("Res")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" response"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("any")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n        "),a("span",{attrs:{class:"token comment"}},[t._v("// you can set a custom ID with another lib")]),t._v("\n        request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'uuid'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("v4")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("use")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// required ")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("requestToObject")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           reqId"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           method"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           url"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originalUrl "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           duration"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tsedReqStart"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           headers"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           body"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           query"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           params"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"shutdown-logger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shutdown-logger","aria-hidden":"true"}},[this._v("#")]),this._v(" Shutdown logger")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$log"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"ts-log-debug"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n$log\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("shutdown")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{attrs:{class:"token builtin"}},[t._v("console")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Complete"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"get-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Get configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"from-service-di"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from-service-di","aria-hidden":"true"}},[this._v("#")]),this._v(" From service (DI)")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ServerSettingsService"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"@tsed/common"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n@"),a("span",{attrs:{class:"token function"}},[t._v("Service")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// or Controller or Middleware")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MyService")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serverSettingsService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ServerSettingsService"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        \n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"from-decorators"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from-decorators","aria-hidden":"true"}},[this._v("#")]),this._v(" From decorators")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Env"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"@tsed/core"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Constant"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Value"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"@tsed/common"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MyClass")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    @"),a("span",{attrs:{class:"token function"}},[t._v("Constant")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"env"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    env"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Env"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    @"),a("span",{attrs:{class:"token function"}},[t._v("Value")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"swagger.path"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    swaggerPath"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("$onInit")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{attrs:{class:"token builtin"}},[t._v("console")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Constant return an Object.freeze() value.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Note: The values for the decorated properties aren't available on constructor. Use $onInit() hook to use the value.")])])}],!1,null,null,null);e.options.__file="configuration.md";s.default=e.exports}}]);